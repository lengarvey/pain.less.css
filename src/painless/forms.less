/**
 * The forms related stuff goes in here
 */


.input-field {
  display:         inline-block;
  box-sizing:      border-box;
  background:      darken(@color-background, 1%);
  border:          1px solid lighten(@font-color, 80%);
  border-radius:   @border-radius;
  color:           @font-color;
  padding:         .5em .75em;
  min-width:       32em;
}

input[type="text"],
input[type="password"],
input[type="email"],
input[type="number"],
textarea,
select {
  .input-field;
}

textarea {
  min-height: 8em;
}

select {
  &[multiple] {
    padding: 0;

    option {
      padding: .5em .75em;
    }
  }

  &:not([multiple]) {
    -webkit-appearance: none;
    -moz-appearance: none;
    -ms-appearance: none;
    appearance: none;

    padding-right: 2em;

    background-image: @image-caret-down;
    background-repeat: no-repeat;
    background-position: right center;
  }
}

input[type="file"] {
  cursor: pointer;

  .file-button {
    .input-field;
    min-width: 0;
    outline: none;
  }

  &::-webkit-file-upload-button { .file-button; }
  &::-moz-file-upload-button { .file-button; }
  &::-ms-file-upload-button { .file-button; }
  &::file-upload-button { .file-button; }
}

input[type="checkbox"], input[type="radio"] {
  .input-field;
  -webkit-appearance: none;
  -moz-appearance: none;
  -ms-appearance: none;
  appearance: none;
  margin:  0;
  padding: 0;
  width:   1em;
  height:  1em;
  min-width: 0;
  position: relative;
  outline:  none;
  cursor:   pointer;

  &:before {
    display:     block;
    position:    absolute;
    left:        0;
    top:         0;
    text-align:  center;
    width:       100%;
    height:      100%;
    font-size:   75%;
    font-weight: bold;
  }

  &:checked {
    border-color: lighten(@font-color, 50%)
  }

  &:disabled {
    background: darken(@color-background, 10%);
    color: lighten(@font-color, 30%);
    cursor: default;
  }
}

input[type="checkbox"] {
  &:checked {
    &:before {
      content: "✔︎";
    }
  }
}

input[type="radio"] {
  border-radius: 50%;

  &:checked {
    &:before {
      content: "●";
    }
  }
}

.controls {
  label {
    display: block;
    margin-bottom: .25em;

    &.checkbox {
      input[type="checkbox"] {
        vertical-align: middle;
        margin-top: -3px;
        margin-right: .25em;
      }
    }
  }

  input[type="text"],
  input[type="password"],
  input[type="email"],
  input[type="number"],
  textarea,
  select {
    width: 100%;
    flex: 1;
  }
}

form {
  > p {
    .controls;
  }

  &.horizontal {
    > p, .controls {
      display: flex;

      label {
        width: 10em;
        padding-top: .5em;

        &.checkbox {
          margin-left: 10em;
          width: auto;
        }
      }
    }
  }
}
